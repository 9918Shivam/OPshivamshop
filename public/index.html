<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>OP Electronics | Your gadget destination</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
<link href="style.css" rel="stylesheet">

</head>
<body>

<nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm sticky-top">
  <div class="container-fluid">
    <a href="/" class="d-flex align-items-center mb-2 mb-lg-0 link-body-emphasis text-decoration-none">
        <img class="bi me-2" width="40" height="32"  src="OP_logo1.png" alt="img-258">
      </a>
    <a class="navbar-brand fw-bold text-primary" href="index.html">OP<span class="text-dark">Electronics</span></a>
    <a class="btn btn-sm btn-outline-primary " href="about.html">About Us</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <form class="d-flex ms-auto me-3"><input class="form-control me-2 rounded-pill px-3" id="searchInput" type="search" placeholder="Search products..."></form>
      <ul class="navbar-nav mb-2 mb-lg-0 align-items-lg-center gap-lg-2">
        <li class="nav-item d-none" id="userDisplay">
          <span class="nav-link fw-semibold text-success"></span>
        </li>
        <li class="nav-item">
           <a class="nav-link" href="login.html" id="loginBtn">Login</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="signup.html" id="signupBtn">Sign‚Äëup</a>
        </li>
        <li class="nav-item">
          <a class="nav-link d-none" href="#" id="logoutBtn" onclick="logout()">Logout</a>
        </li>

        <li class="nav-item"><a class="btn btn-sm btn-outline-primary rounded-pill" href="admin.html">Admin</a></li>

      </ul>
      
    </div>
  </div>
</nav>

<div class="bg-white border-bottom">
  <div class="container py-3">
    <div id="categoryNav" class="d-flex flex-nowrap overflow-auto gap-3"></div>
  </div>
</div>

<section class="container my-5">
  <h2 class="section-title mb-3" id="shopByCategory">üõçÔ∏è¬†Shop by Category</h2>
  <div class="row g-6" id="shopCategoryGrid"></div>
</section>

<section class="container my-5">
  <h2 class="section-title mb-3">All Products</h2>
  <div class="row g-6" id="allProductsSection"></div>   
</section>


<section class="map-section">
  <!-- <div class="container text-center my-4">
  <strong class="d-block fs-5">
    Please give your feedback on Google review about the shop and this website.
  </strong>
</div> -->
<div class="container my-4 text-center">
  <div class="p-3 rounded shadow-sm" style="background: #e3f2fd; border-left: 5px solid #2196f3;">
    <h5 class="fw-bold mb-1 text-primary">
      We'd love to hear your thoughts! üåü
    </h5>
    <p class="mb-0">
      Please leave a review for <strong>OP Electronics</strong> on
      <a href="https://www.google.com/maps?ll=26.391375,82.646735&z=20&t=h&hl=en&gl=IN&mapclient=embed&cid=13839787355769346831" target="_blank"
         class="fw-semibold text-decoration-none"
         style="color: #1a73e8;">
        Google
      </a>
      ‚Äî your feedback helps us improve both our shop and this website.
    </p>
  </div>
</div>

<iframe class="w-100" height="400" style="border:0" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d326.2682065031121!2d82.64653768123138!3d26.391445148850444!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3990f220ebcae879%3A0xc010cd4613931b0f!2z4KST4KSq4KWAIOCkh-CksuClh-CkleCljeCkn-CljeCksOClieCkqOCkv-CklSDgpLjgpL_gpJXgpILgpKbgpLDgpKrgpYHgpLA!5e1!3m2!1sen!2sin!4v1711147745044!5m2!1sen!2sin" loading="lazy"></iframe></section>
<footer class="bg-dark text-white text-center p-4">¬©¬†2025¬†OP¬†Electronics | Made with ‚ù§Ô∏è in Sikandarpur</footer>

<div class="modal fade" id="signupModal" tabindex="-1"><div class="modal-dialog"><form class="modal-content rounded-4 p-3">
<div class="modal-header border-0"><h5 class="modal-title">Sign Up</h5><button class="btn-close" data-bs-dismiss="modal"></button></div>
<div class="modal-body">
  <input type="email" id="signupEmail" class="form-control rounded-pill mb-3" placeholder="Email" required>
  <input type="password" id="signupPassword" class="form-control rounded-pill" placeholder="Password" required>
</div>
<div class="modal-footer border-0"><button class="btn btn-primary w-100 rounded-pill">Create</button></div>
</form></div></div>

<div class="modal fade" id="loginModal" tabindex="-1"><div class="modal-dialog"><form class="modal-content rounded-4 p-3">
<div class="modal-header border-0"><h5 class="modal-title">Login</h5><button class="btn-close" data-bs-dismiss="modal"></button></div>
<div class="modal-body">
  <input type="email" id="loginEmail" class="form-control rounded-pill mb-3" placeholder="Email" required>
  <input type="password" id="loginPassword" class="form-control rounded-pill" placeholder="Password" required>
</div>
<div class="modal-footer border-0"><button class="btn btn-primary w-100 rounded-pill">Login</button></div>
</form></div></div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="script.js"></script>
<script>
document.addEventListener('DOMContentLoaded', () => {
  const user = JSON.parse(localStorage.getItem('ope_current_user') || 'null');
  const userDisplay = document.getElementById('userDisplay');
  const loginBtn = document.getElementById('loginBtn');
  const signupBtn = document.getElementById('signupBtn');

  if (user) {
    userDisplay.classList.remove('d-none');
    userDisplay.querySelector('span').textContent = `üëã Welcome, ${user.name || user.email}`;
    if (loginBtn) loginBtn.classList.add('d-none');
    if (signupBtn) signupBtn.classList.add('d-none');

    let logout = document.getElementById('logoutBtn');
    if (!logout) {
      logout = document.createElement('li');
      logout.className = 'nav-item';
      logout.innerHTML = `<a class="nav-link text-danger" href="#" id="logoutBtn">Logout</a>`;
      document.querySelector('.navbar-nav').appendChild(logout);
    }

    logout.addEventListener('click', () => {
      localStorage.removeItem('ope_current_user');
      location.reload();
    });
  }

  // ‚úÖ Wait for products from script.js
  const checkProductsReady = setInterval(() => {
    if (typeof products !== 'undefined' && products.length > 0) {
      clearInterval(checkProductsReady);
      renderProducts(products);
    }
  }, 100);
});

function updateNavbar() {
  const user = JSON.parse(localStorage.getItem('ope_current_user') || 'null');
  const loginBtn = document.getElementById('loginBtn');
  const signupBtn = document.getElementById('signupBtn');
  const logoutBtn = document.getElementById('logoutBtn');
  const userDisplay = document.getElementById('userDisplay');

  if (user) {
    if (loginBtn) loginBtn.classList.add('d-none');
    if (signupBtn) signupBtn.classList.add('d-none');
    if (logoutBtn) logoutBtn.classList.remove('d-none');
    if (userDisplay) {
      userDisplay.classList.remove('d-none');
      userDisplay.querySelector('span').textContent = `üëã Welcome, ${user.name || user.email}`;
    }
  } else {
    if (loginBtn) loginBtn.classList.remove('d-none');
    if (signupBtn) signupBtn.classList.remove('d-none');
    if (logoutBtn) logoutBtn.classList.add('d-none');
    if (userDisplay) {
      userDisplay.classList.add('d-none');
      userDisplay.querySelector('span').textContent = '';
    }
  }
}

function logout() {
  localStorage.removeItem('ope_current_user');
  updateNavbar();
}

document.addEventListener('DOMContentLoaded', updateNavbar);
</script>



</body>

</html>
